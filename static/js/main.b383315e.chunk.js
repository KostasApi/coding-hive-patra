(this["webpackJsonpcoding-hive-patra"]=this["webpackJsonpcoding-hive-patra"]||[]).push([[0],{149:function(e,t,n){e.exports=n(257)},154:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),s=n.n(i),o=(n(154),n(74)),c=n(39),l=n(35),u=n(36),m=n(131),E=n(132),d=n(22),h=n.n(d),p=n(37),g=n(71),f=n(133),v=n.n(f).a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer l2cmhf2ezRl6ZkcHWNYKoDpiaro1zlqUjwkA7nVxnWzryiTwFDk35PJiucoLhjjFY9ECD8GTBGaHBg5yv5YDLiszKQx8EMvm30ply0UWoHQOnYFjLozpYnZOx-UsXXYx"}}),b=new function e(){Object(g.a)(this,e),this.getBusinesses=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a,r,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.term,r=t.location,e.prev=1,e.next=4,v.get("/v3/businesses/search",{params:{limit:n,term:a,location:r}});case 4:return i=e.sent,s=i.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getBusinessDetails=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/v3/businesses/".concat(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={businesses:[],businessDetails:{},error:"",loading:!1,businessDetailsError:""},x=Object(u.c)({business:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"BUSINESS_DETAILS_REQUEST":case"BUSINESSES_REQUEST":return y({},e,{loading:!0});case"BUSINESSES_REQUEST_SUCCESS":return y({},e,{loading:!1,businesses:a,error:""});case"BUSINESSES_REQUEST_FAIL":return y({},e,{loading:!1,businesses:[],error:a});case"BUSINESS_DETAILS_REQUEST_SUCCESS":return y({},e,{loading:!1,businessDetails:a,businessDetailsError:""});case"BUSINESS_DETAILS_REQUEST_FAIL":return y({},e,{loading:!1,businessDetails:{},businessDetailsError:a});default:return e}}}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,j={},_=n(134),U=n(144),C=n(135),D=n(145),k=n(263),B=n(55),L=n(26),T=n(262),I=n(102),A=n(264),N=n(260),R=n(261),P=N.a.Meta,Q=Object(l.b)(null,(function(e){return{getBusinessDetails:function(t){return e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BUSINESS_DETAILS_REQUEST"}),t.next=3,b.getBusinessDetails(e);case 3:(a=t.sent).isAxiosError?n({type:"BUSINESS_DETAILS_REQUEST_FAIL",payload:a.message}):n({type:"BUSINESS_DETAILS_REQUEST_SUCCESS",payload:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.details,n=e.getBusinessDetails;return r.a.createElement(o.b,{to:"/business-details/".concat(t.id)},r.a.createElement(N.a,{hoverable:!0,style:{width:"100%"},cover:r.a.createElement("img",{style:{height:400},alt:"example",src:t.image_url}),onClick:function(){return n(t.id)}},r.a.createElement(P,{title:t.name,style:{marginBottom:5}}),r.a.createElement("div",null,"Address: ".concat(t.location.address1)),r.a.createElement("div",null,"Phone: ".concat(t.display_phone)),r.a.createElement(R.a,{allowHalf:!0,value:t.rating}),r.a.createElement("div",null,"Reviews: ".concat(t.review_count))))})),F=n(75),z=n.n(F),W=k.a.Option,Y=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(U.a)(this,Object(C.a)(t).call(this,e))).onBusinessChange=function(e){var t=e.target.value;n.setState((function(){return{term:t}}))},n.onLocationChange=function(e){n.setState((function(){return{location:e}}))},n.onLimitChange=function(e){n.setState((function(){return{limit:e}}))},n.onSearchClick=Object(p.a)(h.a.mark((function e(){var t,a,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.term,r=t.location,i=t.limit,(0,n.props.getBusinesses)({term:a,location:r,limit:i}),n.setState((function(){return{term:"",location:"",limit:""}}));case 4:case"end":return e.stop()}}),e)}))),n.state={term:"",location:"",limit:""},n}return Object(D.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.state,t=e.term,n=e.location,a=e.limit,i=this.props,s=i.businesses,o=i.loading,c=i.error;return r.a.createElement("div",{style:{width:"95%",height:"100vh",margin:"0 auto"}},r.a.createElement(B.a,{style:{padding:20},gutter:8,type:"flex",justify:"center"},r.a.createElement(L.a,{xs:24,sm:24,md:12,lg:8,xl:8,xxl:4},r.a.createElement(T.a,{size:"large",placeholder:"Search term",onChange:this.onBusinessChange,value:t})),r.a.createElement(L.a,{xs:24,sm:24,md:12,lg:8,xl:8,xxl:4},r.a.createElement(k.a,{size:"large",placeholder:"Location",style:{width:"100%"},onChange:this.onLocationChange,value:n},r.a.createElement(W,{value:""},"Select Location"),r.a.createElement(W,{value:"New York"},"New York"),r.a.createElement(W,{value:"Los Angeles"},"Los Angeles"),r.a.createElement(W,{value:"Chicago"},"Chicago"),r.a.createElement(W,{value:"\tHouston"}," Houston"),r.a.createElement(W,{value:"Phoenix"},"Phoenix"))),r.a.createElement(L.a,{xs:24,sm:24,md:12,lg:8,xl:8,xxl:4},r.a.createElement(k.a,{size:"large",placeholder:"Limit",style:{width:"100%"},onChange:this.onLimitChange,value:a},r.a.createElement(W,{value:""},"Select Limit"),r.a.createElement(W,{value:"10"},"10"),r.a.createElement(W,{value:"20"},"20"),r.a.createElement(W,{value:"30"},"30"),r.a.createElement(W,{value:"40"},"40"),r.a.createElement(W,{value:"50"},"50"))),r.a.createElement(L.a,{xs:24,sm:24,md:12,lg:8,xl:8,xxl:2},r.a.createElement(I.a,{size:"large",type:"primary",onClick:this.onSearchClick,disabled:!(t&&n&&a)},"Search"))),o?r.a.createElement("div",{style:{height:"90%",display:"flex",justifyContent:"center"}},r.a.createElement("img",{style:{height:300,margin:"auto"},alt:"Loading...",src:z.a})):r.a.createElement(r.a.Fragment,null,c?r.a.createElement(A.a,{description:c,type:"error",closable:!0}):r.a.createElement(B.a,{gutter:[24,24]},s.map((function(e){return r.a.createElement(L.a,{key:e.id,xs:24,sm:24,md:12,lg:12,xl:8,xxl:6},r.a.createElement(Q,{details:e}))})))))}}]),t}(a.Component),H=Object(l.b)((function(e){return{businesses:e.business.businesses,loading:e.business.loading,error:e.business.error}}),(function(e){return{getBusinesses:function(t){return e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BUSINESSES_REQUEST"}),t.next=3,b.getBusinesses(e);case 3:(a=t.sent).isAxiosError?n({type:"BUSINESSES_REQUEST_FAIL",payload:a.message}):n({type:"BUSINESSES_REQUEST_SUCCESS",payload:a.businesses});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Y),X=n(259),J=Object(l.b)((function(e){return{businessDetails:e.business.businessDetails,loading:e.business.loading,businessDetailsError:e.business.businessDetailsError}}))((function(e){var t=e.businessDetails,n=e.loading,a=e.businessDetailsError;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{style:{height:"100vh",display:"flex",justifyContent:"center"}},r.a.createElement("img",{style:{height:300,margin:"auto"},alt:"Loading...",src:z.a})):r.a.createElement(r.a.Fragment,null,a?r.a.createElement(A.a,{style:{margin:10},description:a,type:"error",closable:!0}):r.a.createElement("div",{style:{width:"50%",height:"100vh",margin:"0 auto"}},r.a.createElement("h1",null,t.name),r.a.createElement(X.a,{autoplay:!0},t.photos.map((function(e,t){return r.a.createElement("div",{key:e},r.a.createElement("img",{style:{width:"100%",height:500},alt:"foto ".concat(t),src:e}))}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Address: ".concat(t.location.address1,", ").concat(t.location.city)),r.a.createElement("h3",null,"Phone: ".concat(t.display_phone)),r.a.createElement("h3",null,"Price: ".concat(t.price)),r.a.createElement(R.a,{allowHalf:!0,value:t.rating}),r.a.createElement("h3",null,"Reviews: ".concat(t.review_count))))))})),M=function(){return r.a.createElement("div",null,"Page Not Found")},G=(n(256),Object(u.e)(x,j,O(Object(u.a)(m.a)))),K=function(){return r.a.createElement(l.a,{store:G},r.a.createElement(o.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",render:function(){return r.a.createElement(c.a,{to:"/businesses"})},exact:!0}),r.a.createElement(c.b,{path:"/businesses",render:function(){return r.a.createElement(H,null)},exact:!0}),r.a.createElement(c.b,{path:"/business-details/:id",render:function(e){return r.a.createElement(J,e)},exact:!0}),r.a.createElement(c.b,{render:function(){return r.a.createElement(M,null)}}))))},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(r.a.createElement(K,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/coding-hive-patra",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/coding-hive-patra","/service-worker.js");V?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Z(t,e)}))}}()},75:function(e,t,n){e.exports=n.p+"static/media/loading.649a6d47.gif"}},[[149,1,2]]]);
//# sourceMappingURL=main.b383315e.chunk.js.map